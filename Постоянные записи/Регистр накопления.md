---
tags:
  - постоянные
  - 1с
  - объект_конфигурации
  - регистр_накопления
links:
  - "[[Объект конфигурации]]"
  - "[[Документ]]"
  - "[[Справочник]]"
---
**Регистр накопления** — это прикладной объект конфигурации, предназначенный для описания структуры накопления данных.

Регистры накопления составляют основу механизма учета и позволяют накапливать данные (обычно числовые), поставляемые различными объектами базы данных (чаще всего — документами).

Данные в регистре хранятся в виде записей. Каждая запись имеет одинаковую структуру, заданную в конфигураторе.

В отличие от Справочников и Документов, регистры накопления **не предназначены** для интерактивного редактирования пользователями. Их записи формируются программно в момент *проведения* документов.

### Структура регистра накопления

Структура регистра определяется разработчиком и состоит из:

1.  **Измерения** — определяют "разрезы" учета. Это то, *в разрезе чего* мы храним информацию.
    *   *Пример:* Товар, Склад.
    *   Значения измерений не могут быть пустыми (обычно).

2.  **Ресурсы** — числовые данные, которые мы накапливаем.
    *   *Пример:* Количество, Сумма.
    *   Именно для ресурсов рассчитываются итоги.

3.  **Реквизиты** — дополнительная информация о записи (движении), которая не является ни измерением, ни ресурсом.
    *   *Пример:* Комментарий к операции.

Также у регистра есть **стандартные реквизиты**:
*   **Период** — дата и время движения (обычно совпадает с датой документа-регистратора).
*   **Регистратор** — ссылка на документ, который создал эти записи.
*   **НомерСтроки** — уникальный номер записи в пределах регистратора.
*   **Активность** — влияет ли запись на итоги (Истина/Ложь).
*   **ВидДвижения** — для регистров остатков: *Приход* или *Расход*.

### Движения и Регистратор

**Движения** — это записи в регистре, созданные конкретным документом.

*   Изменение состояния регистра происходит, как правило, при **проведении документа**.
*   Такой документ называется **Регистратором**.
*   Каждой записи регистра всегда соответствует регистратор.

### Виды регистров накопления

1.  **Регистры остатков** — хранят итоговые значения ресурсов (остатки) в разрезе измерений. Записи имеют вид движения *Приход* или *Расход*.
2.  **Оборотные регистры** — хранят только обороты за период.

### Работа с коллекциями (теория)

Движения документа представляют собой коллекцию записей.
В 1С работа с коллекциями возможна двумя способами:
1.  **Перебор в цикле** (`Для Каждого ... Из ... Цикл`).
2.  **Доступ по индексу** или **имени** (если коллекция именованная).
